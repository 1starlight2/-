# -
基于 AI 的个人任务追踪与自律管理 Web 应用
# 自律助手 - AI 驱动的任务追踪工具

## 一、软件定位与功能
- **定位**：一款轻量级 Web 应用，通过 AI 评分与数据可视化解决用户自律性不足、缺乏任务反馈的问题，帮助用户量化努力、持续进步。
- **核心功能**：
  1. 结构化任务记录：选择任务类型（学习 / 工作 / 健康 / 其他），填写努力描述与能力进步描述
  2. AI 智能评分：基于任务信息自动生成 1-10 分的努力程度与能力进步评分
  3. 分数调整：支持用户手动调整努力分数，兼顾 AI 客观性与主观感受
  4. 数据可视化：周努力趋势折线图与本周努力累计进度条，直观展示努力轨迹


## 二、运行方法
### 2.1 环境准备
```bash
# 1. 克隆项目
git clone <项目仓库地址>
cd productivity-assistant

# 2. 安装依赖
pip install Flask Flask-CORS qianfan requests
```

### 2.2 配置 AI（关键）
1. 前往百度千帆平台获取 API Key (AK) 和 Secret Key (SK)
2. 编辑 `test.py`，替换以下内容：
   ```python
   QIANFAN_API_KEY = "你的AK"
   QIANFAN_SECRET_KEY = "你的SK"
   ```

### 2.3 启动应用
```bash
# 启动后端服务
python test.py

# 访问前端（两种方式）
# 1. 直接打开 new2.html 文件
# 2. 浏览器访问 http://localhost:5000/new2.html
```


## 三、使用说明
### 3.1 记录任务
i. 从下拉框选择任务类型（如 "学习 - 背单词"）
ii. 填写努力描述（如 "花 1 小时背 30 个单词"）
iii. 填写能力进步描述（如 "比昨天记得牢"）
iv. 点击 "提交并获取评分"

### 3.2 调整评分
i. 查看 AI 生成的评分结果
ii. 如需调整，拖动滑块修改努力分数
iii. 点击 "保存调整" 按钮

### 3.3 查看数据
i. 右侧面板自动展示周努力趋势图
ii. 查看本周努力累计进度条及完成率


## 四、代码结构与原理
### 4.1 目录结构
```plaintext
productivity-assistant/
├── new2.html        # 前端页面（含HTML/CSS/JS）
├── test.py          # 后端主程序（Flask服务）
└── productivity_tracker.db  # SQLite数据库（自动生成）
```

### 4.2 基本原理
- **前端**：通过 Tailwind CSS 构建界面，JavaScript 处理表单交互与 Chart.js 可视化
- **后端**：Flask 提供 API 服务，接收前端请求后执行以下流程：
  i. 调用百度千帆 AI 生成评分
  ii. 将任务数据与评分存入 SQLite 数据库
  iii. 处理周数据查询并返回给前端
- **数据流程**：用户提交→AI 评分→数据存储→前端展示→周数据更新


## 五、常见问题
### 5.1 表单提交无响应
i. 检查后端是否启动：执行 `python test.py` 确认服务运行
ii. 确认已填写所有必填项（任务类型、努力描述、能力进步描述）

### 5.2 AI 评分始终为 5 分
i. 检查 `test.py` 中 AK/SK 是否正确配置，无拼写错误
ii. 查看后端运行日志，确认网络可正常连接百度千帆 API

### 5.3 图表无数据
i. 需至少提交 1 条任务记录（提交后等待 1-2 秒刷新图表）
ii. 检查系统日期是否正确（图表仅展示本周内的任务数据）

### 5.4 跨域错误
i. 确保后端代码中已配置 CORS：确认 `test.py` 包含 `CORS(app)` 代码行
ii. 重启后端服务，重新发起请求
